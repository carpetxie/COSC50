#!/bin/bash

echo "testing basic stuff"
testing basic stuff
echo "3 5 1 7 0 8 15 12 3 5 3 3 3 3" | ./histo
16 bins of size 1 for range [0,16)
[  0:  0] *
[  1:  1] *
[  2:  2] 
[  3:  3] ******
[  4:  4] 
[  5:  5] **
[  6:  6] 
[  7:  7] *
[  8:  8] *
[  9:  9] 
[ 10: 10] 
[ 11: 11] 
[ 12: 12] *
[ 13: 13] 
[ 14: 14] 
[ 15: 15] *
echo


echo "testing bigger numbers"
testing bigger numbers
echo "1 2 3 18 19 20 50 34 32 19 44" | ./histo
16 bins of size 1 for range [0,16)
16 bins of size 2 for range [0,32)
16 bins of size 4 for range [0,64)
[  0:  3] ***
[  4:  7] 
[  8: 11] 
[ 12: 15] 
[ 16: 19] ***
[ 20: 23] *
[ 24: 27] 
[ 28: 31] 
[ 32: 35] **
[ 36: 39] 
[ 40: 43] 
[ 44: 47] *
[ 48: 51] *
[ 52: 55] 
[ 56: 59] 
[ 60: 63] 
echo


echo "testing really big number"
testing really big number
echo "150" | ./histo
16 bins of size 1 for range [0,16)
16 bins of size 2 for range [0,32)
16 bins of size 4 for range [0,64)
16 bins of size 8 for range [0,128)
16 bins of size 16 for range [0,256)
[  0: 15] 
[ 16: 31] 
[ 32: 47] 
[ 48: 63] 
[ 64: 79] 
[ 80: 95] 
[ 96:111] 
[112:127] 
[128:143] 
[144:159] *
[160:175] 
[176:191] 
[192:207] 
[208:223] 
[224:239] 
[240:255] 
echo


echo "testing with some negatives (should ignore them)"
testing with some negatives (should ignore them)
echo "5 -3 10 15 -1 20 25 30" | ./histo
16 bins of size 1 for range [0,16)
16 bins of size 2 for range [0,32)
[  0:  1] 
[  2:  3] 
[  4:  5] *
[  6:  7] 
[  8:  9] 
[ 10: 11] *
[ 12: 13] 
[ 14: 15] *
[ 16: 17] 
[ 18: 19] 
[ 20: 21] *
[ 22: 23] 
[ 24: 25] *
[ 26: 27] 
[ 28: 29] 
[ 30: 31] *
echo


echo "testing empty input"
testing empty input
echo "" | ./histo
16 bins of size 1 for range [0,16)
[  0:  0] 
[  1:  1] 
[  2:  2] 
[  3:  3] 
[  4:  4] 
[  5:  5] 
[  6:  6] 
[  7:  7] 
[  8:  8] 
[  9:  9] 
[ 10: 10] 
[ 11: 11] 
[ 12: 12] 
[ 13: 13] 
[ 14: 14] 
[ 15: 15] 
echo


echo "testing file input"
testing file input
echo "10 20 30 40 50 60 70 80 90 100" > test.txt
./histo < test.txt
16 bins of size 1 for range [0,16)
16 bins of size 2 for range [0,32)
16 bins of size 4 for range [0,64)
16 bins of size 8 for range [0,128)
[  0:  7] 
[  8: 15] *
[ 16: 23] *
[ 24: 31] *
[ 32: 39] 
[ 40: 47] *
[ 48: 55] *
[ 56: 63] *
[ 64: 71] *
[ 72: 79] 
[ 80: 87] *
[ 88: 95] *
[ 96:103] *
[104:111] 
[112:119] 
[120:127] 
rm test.txt
echo


echo "testing huge number"
testing huge number
echo "1000" | ./histo
16 bins of size 1 for range [0,16)
16 bins of size 2 for range [0,32)
16 bins of size 4 for range [0,64)
16 bins of size 8 for range [0,128)
16 bins of size 16 for range [0,256)
16 bins of size 32 for range [0,512)
16 bins of size 64 for range [0,1024)
[  0: 63] 
[ 64:127] 
[128:191] 
[192:255] 
[256:319] 
[320:383] 
[384:447] 
[448:511] 
[512:575] 
[576:639] 
[640:703] 
[704:767] 
[768:831] 
[832:895] 
[896:959] 
[960:1023] *
